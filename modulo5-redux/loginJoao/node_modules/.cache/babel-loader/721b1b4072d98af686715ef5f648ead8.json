{"ast":null,"code":"import { api } from \"../../api\";\nimport { useNavigate } from \"react-router\";\nconst navigate = useNavigate(); // GET\n\nexport const getPessoas = async dispatch => {\n  const {\n    data\n  } = await api.get('/pessoa');\n\n  if (data) {\n    dispatch({\n      type: 'GET_PESSOAS',\n      pessoas: data\n    });\n  } else {\n    alert('Deu erro no login');\n  }\n}; // EDIT (PUT)\n\nexport const prepareEdition = (pessoa, dispatch) => {\n  console.log('pessoa é: ', pessoa);\n  dispatch({\n    type: 'SET_EDIT',\n    edit: {\n      status: true,\n      pessoa: pessoa\n    }\n  });\n};\nexport const cancelEdit = dispatch => {\n  dispatch({\n    type: 'SET_EDIT',\n    edit: {\n      status: false,\n      pessoa: {}\n    }\n  });\n  navigate('/pessoa');\n}; // DELETE \n\nexport const deletePessoa = async (id, dispatch) => {\n  console.log(\"delete id é: \", id);\n  const response = await api.delete(`/pessoa/${id}`);\n\n  if (response) {\n    const {\n      data\n    } = await api.get('/pessoa');\n    dispatch({\n      type: 'GET_PESSOAS',\n      pessoas: data\n    });\n  }\n}; // POST \n\nexport const postPessoa = async (pessoa, dispatch) => {\n  const {\n    data\n  } = await api.post('/pessoa', pessoa);\n  console.log('data no post é: ', data);\n};","map":{"version":3,"sources":["C:/Users/leandro/Desktop/VemSer/modulo5-redux/loginJoao/src/store/actions/PessoaActions.js"],"names":["api","useNavigate","navigate","getPessoas","dispatch","data","get","type","pessoas","alert","prepareEdition","pessoa","console","log","edit","status","cancelEdit","deletePessoa","id","response","delete","postPessoa","post"],"mappings":"AAAA,SAASA,GAAT,QAAoB,WAApB;AACA,SAASC,WAAT,QAA4B,cAA5B;AAEA,MAAMC,QAAQ,GAAGD,WAAW,EAA5B,C,CAEA;;AACA,OAAO,MAAME,UAAU,GAAG,MAAOC,QAAP,IAAoB;AAC5C,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAML,GAAG,CAACM,GAAJ,CAAQ,SAAR,CAAvB;;AACA,MAAID,IAAJ,EAAU;AACRD,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAE,aADC;AAEPC,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR;AAID,GALD,MAKO;AACLI,IAAAA,KAAK,CAAC,mBAAD,CAAL;AACD;AACF,CAVM,C,CAYP;;AAEA,OAAO,MAAMC,cAAc,GAAG,CAACC,MAAD,EAASP,QAAT,KAAsB;AAClDQ,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,MAA1B;AACAP,EAAAA,QAAQ,CAAC;AACPG,IAAAA,IAAI,EAAE,UADC;AAEPO,IAAAA,IAAI,EAAE;AACJC,MAAAA,MAAM,EAAE,IADJ;AAEJJ,MAAAA,MAAM,EAAEA;AAFJ;AAFC,GAAD,CAAR;AAOD,CATM;AAYP,OAAO,MAAMK,UAAU,GAAIZ,QAAD,IAAc;AACtCA,EAAAA,QAAQ,CAAC;AACPG,IAAAA,IAAI,EAAE,UADC;AAEPO,IAAAA,IAAI,EAAE;AACJC,MAAAA,MAAM,EAAE,KADJ;AAEJJ,MAAAA,MAAM,EAAE;AAFJ;AAFC,GAAD,CAAR;AAOAT,EAAAA,QAAQ,CAAC,SAAD,CAAR;AACD,CATM,C,CAYP;;AACA,OAAO,MAAMe,YAAY,GAAG,OAAOC,EAAP,EAAWd,QAAX,KAAwB;AAClDQ,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BK,EAA7B;AACA,QAAMC,QAAQ,GAAG,MAAMnB,GAAG,CAACoB,MAAJ,CAAY,WAAUF,EAAG,EAAzB,CAAvB;;AACA,MAAIC,QAAJ,EAAc;AACZ,UAAM;AAAEd,MAAAA;AAAF,QAAW,MAAML,GAAG,CAACM,GAAJ,CAAQ,SAAR,CAAvB;AACAF,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAE,aADC;AAEPC,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR;AAID;AACF,CAVM,C,CAYP;;AACA,OAAO,MAAMgB,UAAU,GAAG,OAAOV,MAAP,EAAeP,QAAf,KAA4B;AACpD,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAML,GAAG,CAACsB,IAAJ,CAAS,SAAT,EAAoBX,MAApB,CAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCR,IAAhC;AACD,CAHM","sourcesContent":["import { api } from \"../../api\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nconst navigate = useNavigate();\r\n\r\n// GET\r\nexport const getPessoas = async (dispatch) => {\r\n  const { data } = await api.get('/pessoa');\r\n  if (data) {\r\n    dispatch({\r\n      type: 'GET_PESSOAS',\r\n      pessoas: data\r\n    })\r\n  } else {\r\n    alert('Deu erro no login');\r\n  }\r\n}\r\n\r\n// EDIT (PUT)\r\n\r\nexport const prepareEdition = (pessoa, dispatch) => {\r\n  console.log('pessoa é: ', pessoa)\r\n  dispatch({\r\n    type: 'SET_EDIT',\r\n    edit: {\r\n      status: true,\r\n      pessoa: pessoa\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport const cancelEdit = (dispatch) => {\r\n  dispatch({\r\n    type: 'SET_EDIT',\r\n    edit: {\r\n      status: false,\r\n      pessoa: {}\r\n    }\r\n  });\r\n  navigate('/pessoa')\r\n}\r\n\r\n\r\n// DELETE \r\nexport const deletePessoa = async (id, dispatch) => {\r\n  console.log(\"delete id é: \", id)\r\n  const response = await api.delete(`/pessoa/${id}`);\r\n  if (response) {\r\n    const { data } = await api.get('/pessoa');\r\n    dispatch({\r\n      type: 'GET_PESSOAS',\r\n      pessoas: data\r\n    })\r\n  }\r\n}\r\n\r\n// POST \r\nexport const postPessoa = async (pessoa, dispatch) => {\r\n  const { data } = await api.post('/pessoa', pessoa);\r\n  console.log('data no post é: ', data)\r\n}"]},"metadata":{},"sourceType":"module"}