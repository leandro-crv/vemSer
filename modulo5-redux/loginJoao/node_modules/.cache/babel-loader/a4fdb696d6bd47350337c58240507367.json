{"ast":null,"code":"import { api } from \"../../api\";\nexport const handleLogin = async (values, dispatch) => {\n  const {\n    data\n  } = await api.post('/auth', values);\n\n  if (data) {\n    localStorage.setItem('token', data);\n    const logado = {\n      type: 'SET_LOGIN',\n      token: data,\n      auth: true,\n      loading: false\n    };\n    api.defaults.headers.common['Authorization'] = data; // window.location.href='/pessoa';\n\n    const response = await api.get('/pessoa');\n    console.log('response é: ', response);\n    dispatch(logado);\n  } else {\n    alert('Deu erro no login');\n  }\n};","map":{"version":3,"sources":["C:/Users/leandro/Desktop/loginJoao/src/store/actions/AuthActions.js"],"names":["api","handleLogin","values","dispatch","data","post","localStorage","setItem","logado","type","token","auth","loading","defaults","headers","common","response","get","console","log","alert"],"mappings":"AAAA,SAASA,GAAT,QAAoB,WAApB;AACA,OAAO,MAAMC,WAAW,GAAG,OAAMC,MAAN,EAAcC,QAAd,KAA2B;AACpD,QAAM;AAACC,IAAAA;AAAD,MAAS,MAAMJ,GAAG,CAACK,IAAJ,CAAS,OAAT,EAAkBH,MAAlB,CAArB;;AACA,MAAIE,IAAJ,EAAU;AACRE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAA9B;AACA,UAAMI,MAAM,GAAG;AACbC,MAAAA,IAAI,EAAE,WADO;AAEbC,MAAAA,KAAK,EAAEN,IAFM;AAGbO,MAAAA,IAAI,EAAE,IAHO;AAIbC,MAAAA,OAAO,EAAE;AAJI,KAAf;AAMAZ,IAAAA,GAAG,CAACa,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4B,eAA5B,IAA+CX,IAA/C,CARQ,CASR;;AACA,UAAMY,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,GAAJ,CAAQ,SAAR,CAAvB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BH,QAA3B;AACAb,IAAAA,QAAQ,CAACK,MAAD,CAAR;AACD,GAbD,MAaO;AACLY,IAAAA,KAAK,CAAC,mBAAD,CAAL;AACD;AACF,CAlBM","sourcesContent":["import { api } from \"../../api\";\nexport const handleLogin = async(values, dispatch) => {\n  const {data} = await api.post('/auth', values);\n  if (data) {\n    localStorage.setItem('token', data);\n    const logado = {\n      type: 'SET_LOGIN',\n      token: data,\n      auth: true,\n      loading: false\n    }\n    api.defaults.headers.common['Authorization'] = data;\n    // window.location.href='/pessoa';\n    const response = await api.get('/pessoa');\n    console.log('response é: ',response)\n    dispatch(logado);\n  } else {\n    alert('Deu erro no login');\n  }\n}"]},"metadata":{},"sourceType":"module"}