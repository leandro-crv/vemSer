{"ast":null,"code":"import { api } from \"../../api\";\nexport const isLogin = (dispatch, token) => {\n  const logado = {\n    type: 'SET_IS_LOGIN',\n    token: token,\n    auth: true,\n    loading: false\n  };\n  dispatch(logado);\n};\nexport const handleLogin = async (values, dispatch) => {\n  const {\n    data\n  } = await api.post('/auth', values);\n\n  if (data) {\n    localStorage.setItem('token', data);\n    const logado = {\n      type: 'SET_LOGIN',\n      token: data,\n      auth: true,\n      loading: true\n    };\n    api.defaults.headers.common['Authorization'] = data;\n    window.location.href = '/pessoa';\n    dispatch(logado);\n  } else {\n    alert('Deu erro no login');\n  }\n};\nexport const handleLogout = dispatch => {\n  localStorage.removeItem('token');\n  dispatch({\n    type: 'SET_LOGIN',\n    token: '',\n    auth: false,\n    loading: false\n  });\n};","map":{"version":3,"sources":["C:/Users/leandro/Desktop/VemSer/modulo5-redux/loginJoao/src/store/actions/AuthActions.js"],"names":["api","isLogin","dispatch","token","logado","type","auth","loading","handleLogin","values","data","post","localStorage","setItem","defaults","headers","common","window","location","href","alert","handleLogout","removeItem"],"mappings":"AAAA,SAASA,GAAT,QAAoB,WAApB;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,QAAD,EAAUC,KAAV,KAAmB;AACxC,QAAMC,MAAM,GAAG;AACbC,IAAAA,IAAI,EAAE,cADO;AAEbF,IAAAA,KAAK,EAAEA,KAFM;AAGbG,IAAAA,IAAI,EAAE,IAHO;AAIbC,IAAAA,OAAO,EAAE;AAJI,GAAf;AAMAL,EAAAA,QAAQ,CAACE,MAAD,CAAR;AACD,CARM;AAUP,OAAO,MAAMI,WAAW,GAAG,OAAMC,MAAN,EAAcP,QAAd,KAA2B;AACpD,QAAM;AAACQ,IAAAA;AAAD,MAAS,MAAMV,GAAG,CAACW,IAAJ,CAAS,OAAT,EAAkBF,MAAlB,CAArB;;AACA,MAAIC,IAAJ,EAAU;AACRE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAA9B;AACA,UAAMN,MAAM,GAAG;AACbC,MAAAA,IAAI,EAAE,WADO;AAEbF,MAAAA,KAAK,EAAEO,IAFM;AAGbJ,MAAAA,IAAI,EAAE,IAHO;AAIbC,MAAAA,OAAO,EAAE;AAJI,KAAf;AAMAP,IAAAA,GAAG,CAACc,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4B,eAA5B,IAA+CN,IAA/C;AACAO,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqB,SAArB;AACAjB,IAAAA,QAAQ,CAACE,MAAD,CAAR;AACD,GAXD,MAWO;AACLgB,IAAAA,KAAK,CAAC,mBAAD,CAAL;AACD;AACF,CAhBM;AAkBP,OAAO,MAAMC,YAAY,GAAInB,QAAD,IAAY;AACtCU,EAAAA,YAAY,CAACU,UAAb,CAAwB,OAAxB;AACApB,EAAAA,QAAQ,CAAC;AACPG,IAAAA,IAAI,EAAC,WADE;AAEPF,IAAAA,KAAK,EAAC,EAFC;AAGPG,IAAAA,IAAI,EAAC,KAHE;AAIPC,IAAAA,OAAO,EAAC;AAJD,GAAD,CAAR;AAMD,CARM","sourcesContent":["import { api } from \"../../api\";\n\nexport const isLogin = (dispatch,token) =>{\n  const logado = {\n    type: 'SET_IS_LOGIN',\n    token: token,\n    auth: true,\n    loading: false\n  }\n  dispatch(logado);\n}\n\nexport const handleLogin = async(values, dispatch) => {\n  const {data} = await api.post('/auth', values);\n  if (data) {\n    localStorage.setItem('token', data);\n    const logado = {\n      type: 'SET_LOGIN',\n      token: data,\n      auth: true,\n      loading: true\n    }\n    api.defaults.headers.common['Authorization'] = data;\n    window.location.href='/pessoa';\n    dispatch(logado);\n  } else {\n    alert('Deu erro no login');\n  }\n}\n\nexport const handleLogout = (dispatch)=>{\n  localStorage.removeItem('token');\n  dispatch({\n    type:'SET_LOGIN',\n    token:'',\n    auth:false,\n    loading:false\n  })\n}"]},"metadata":{},"sourceType":"module"}